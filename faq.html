<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perguntas Frequentes - Conversor de Imagens Avançado</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Toastify JS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
    />
    <!-- CSS Principal -->
    <link rel="stylesheet" href="assets/css/main.css" />
  </head>
  <body>
    <header class="bg-dark text-white py-4">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-7">
            <div class="header-content">
              <h1>
                <a href="index.html" class="text-white text-decoration-none">
                  <i class="fas fa-image header-icon"></i>Conversor de Imagens
                </a>
              </h1>
              <p class="lead">
                Uma ferramenta completa para trabalhar com suas imagens
              </p>
              <div class="header-badges d-none d-md-flex">
                <span class="badge-item"
                  ><i class="fas fa-bolt"></i> Rápido</span
                >
                <span class="badge-item"
                  ><i class="fas fa-shield-alt"></i> Seguro</span
                >
                <span class="badge-item"
                  ><i class="fas fa-magic"></i> Versátil</span
                >
              </div>
            </div>
          </div>
          <div class="col-md-5 text-md-end mt-4 mt-md-0">
            <div class="header-actions">
              <button
                id="themeToggle"
                class="btn-theme"
                aria-label="Alternar tema"
              >
                <div class="theme-switch">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </div>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="header-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
      </div>
    </header>

    <nav class="bg-light py-2">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center">
          <ul class="nav nav-pills">
            <li class="nav-item">
              <a class="nav-link" href="/">Início</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="document.html">Documentação</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="faq.html">FAQ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="privacy.html"
                >Política de Privacidade</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container my-5">
      <div class="card shadow">
        <div class="card-body p-4 p-lg-5">
          <h1 class="text-center mb-5">Perguntas Frequentes</h1>

          <div class="faq-search mb-5">
            <div class="input-group">
              <span class="input-group-text bg-primary text-white">
                <i class="fas fa-search"></i>
              </span>
              <input
                type="text"
                id="faqSearch"
                class="form-control form-control-lg"
                placeholder="Busque sua dúvida aqui..."
              />
            </div>
          </div>

          <div class="row mb-4">
            <div class="col-lg-3 mb-4 mb-lg-0">
              <div class="list-group faq-categories" id="faq-categories">
                <a
                  href="#geral"
                  class="list-group-item list-group-item-action active"
                >
                  <i class="fas fa-info-circle me-2"></i> Geral
                </a>
                <a
                  href="#conversao"
                  class="list-group-item list-group-item-action"
                >
                  <i class="fas fa-sync-alt me-2"></i> Conversão
                </a>
                <a
                  href="#edicao"
                  class="list-group-item list-group-item-action"
                >
                  <i class="fas fa-edit me-2"></i> Edição
                </a>
                <a href="#lote" class="list-group-item list-group-item-action">
                  <i class="fas fa-layer-group me-2"></i> Processo em Lote
                </a>
                <a
                  href="#compressao"
                  class="list-group-item list-group-item-action"
                >
                  <i class="fas fa-compress-alt me-2"></i> Compressão
                </a>
                <a
                  href="#tecnico"
                  class="list-group-item list-group-item-action"
                >
                  <i class="fas fa-cogs me-2"></i> Técnico
                </a>
              </div>
            </div>

            <div class="col-lg-9">
              <!-- Seção Geral -->
              <section id="geral" class="faq-section">
                <h2 class="border-bottom pb-2 mb-4">
                  <i class="fas fa-info-circle text-primary me-2"></i>
                  Perguntas Gerais
                </h2>

                <div class="accordion" id="accordionGeral">
                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#geral1"
                      >
                        O uso do Conversor de Imagens é gratuito?
                      </button>
                    </h2>
                    <div
                      id="geral1"
                      class="accordion-collapse collapse show"
                      data-bs-parent="#accordionGeral"
                    >
                      <div class="accordion-body">
                        <p>
                          Sim, o Conversor de Imagens é completamente gratuito
                          para uso pessoal e comercial. Não há limites para o
                          número de imagens que você pode converter, editar ou
                          comprimir.
                        </p>
                        <p>
                          Todas as funcionalidades são disponibilizadas sem
                          custo, pois nossa prioridade é fornecer uma ferramenta
                          útil para a comunidade. O processamento é realizado
                          diretamente no seu navegador, sem custo de servidores
                          para nós.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#geral2"
                      >
                        É necessário criar uma conta para usar o conversor?
                      </button>
                    </h2>
                    <div
                      id="geral2"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionGeral"
                    >
                      <div class="accordion-body">
                        <p>
                          Não, não é necessário criar uma conta ou fazer login
                          para utilizar o Conversor de Imagens. Você pode
                          acessar e usar todas as funcionalidades de forma
                          anônima.
                        </p>
                        <p>
                          Isso é possível porque todo o processamento é
                          realizado localmente, no seu próprio navegador. Seus
                          dados ficam armazenados apenas localmente no seu
                          dispositivo (através do armazenamento local do
                          navegador) para recursos como o histórico de
                          conversões.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#geral3"
                      >
                        Minhas imagens são enviadas para algum servidor?
                      </button>
                    </h2>
                    <div
                      id="geral3"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionGeral"
                    >
                      <div class="accordion-body">
                        <p>
                          Não, suas imagens <strong>nunca</strong> são enviadas
                          para nossos servidores. Todo o processamento é
                          realizado localmente no seu navegador, usando
                          tecnologias modernas como WebAssembly e APIs nativas
                          de processamento de imagem.
                        </p>
                        <p>
                          Isso garante máxima privacidade e segurança para seus
                          arquivos, além de proporcionar conversões mais
                          rápidas, já que não é necessário fazer upload dos
                          arquivos. Isso é especialmente benéfico para arquivos
                          grandes ou quando você tem uma conexão de internet
                          limitada.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#geral4"
                      >
                        Qual é o limite de tamanho para as imagens?
                      </button>
                    </h2>
                    <div
                      id="geral4"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionGeral"
                    >
                      <div class="accordion-body">
                        <p>
                          Tecnicamente, não há um limite rígido de tamanho de
                          arquivo imposto pelo nosso sistema, já que o
                          processamento ocorre localmente. No entanto, há
                          limitações práticas baseadas na memória disponível no
                          seu dispositivo e navegador.
                        </p>
                        <p>Recomendamos:</p>
                        <ul>
                          <li>
                            Arquivos de até <strong>30MB</strong> para
                            conversões individuais
                          </li>
                          <li>
                            Arquivos de até <strong>10MB</strong> para o editor
                            de imagens
                          </li>
                          <li>
                            Total combinado de até <strong>100MB</strong> para
                            conversões em lote
                          </li>
                        </ul>
                        <p>
                          Dispositivos com mais memória RAM podem processar
                          arquivos maiores sem problemas.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Seção Conversão -->
              <section id="conversao" class="faq-section mt-5 d-none">
                <h2 class="border-bottom pb-2 mb-4">
                  <i class="fas fa-sync-alt text-primary me-2"></i>
                  Conversão de Imagens
                </h2>

                <div class="accordion" id="accordionConversao">
                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#conversao1"
                      >
                        Qual formato é melhor para imagens na web?
                      </button>
                    </h2>
                    <div
                      id="conversao1"
                      class="accordion-collapse collapse show"
                      data-bs-parent="#accordionConversao"
                    >
                      <div class="accordion-body">
                        <p>
                          Para a maioria dos casos de uso na web, recomendamos o
                          formato <strong>WebP</strong>. Ele oferece:
                        </p>
                        <ul>
                          <li>
                            Melhor compressão (arquivos até 30% menores que JPEG
                            com qualidade similar)
                          </li>
                          <li>Suporte a transparência (como PNG)</li>
                          <li>
                            Suporte a animações (como GIF, mas com melhor
                            qualidade)
                          </li>
                        </ul>
                        <p>
                          WebP é suportado por todos os navegadores modernos.
                          Para compatibilidade com navegadores mais antigos,
                          JPEG (para fotografias) e PNG (para imagens com
                          transparência) ainda são boas opções secundárias.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#conversao2"
                      >
                        Como preservar a transparência ao converter uma imagem?
                      </button>
                    </h2>
                    <div
                      id="conversao2"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionConversao"
                    >
                      <div class="accordion-body">
                        <p>
                          Para preservar a transparência, você deve converter
                          para um formato que a suporte:
                        </p>
                        <ul>
                          <li>
                            <strong>PNG</strong>: Suporta transparência total
                          </li>
                          <li>
                            <strong>WebP</strong>: Suporta transparência
                            (certifique-se de que a opção "Preservar
                            transparência" esteja marcada)
                          </li>
                          <li>
                            <strong>SVG</strong>: Suporta transparência para
                            gráficos vetoriais
                          </li>
                        </ul>
                        <p>
                          Importante: O formato JPEG
                          <strong>não suporta</strong> transparência. Se você
                          converter uma imagem com áreas transparentes para
                          JPEG, essas áreas serão preenchidas com uma cor sólida
                          (geralmente branco).
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#conversao3"
                      >
                        Como consigo o melhor resultado na conversão para SVG?
                      </button>
                    </h2>
                    <div
                      id="conversao3"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionConversao"
                    >
                      <div class="accordion-body">
                        <p>
                          A conversão para SVG funciona melhor com imagens
                          simples e de alto contraste. Para obter melhores
                          resultados:
                        </p>
                        <ul>
                          <li>
                            Use imagens com contornos bem definidos e poucas
                            cores
                          </li>
                          <li>
                            Logotipos, ícones e ilustrações simples funcionam
                            melhor
                          </li>
                          <li>
                            Fotografias complexas não são adequadas para
                            conversão para SVG
                          </li>
                          <li>
                            Ajuste as configurações de "Suavização de curvas" e
                            "Simplificação" com base na complexidade da imagem
                          </li>
                          <li>
                            Para imagens com texto, considere usar a opção
                            "Preservar texto" para melhor legibilidade
                          </li>
                        </ul>
                        <p>
                          Nota: A conversão para SVG usa um processo chamado
                          "traçado" (tracing) que tenta converter pixels em
                          formas vetoriais. Isso sempre será uma aproximação da
                          imagem original.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#conversao4"
                      >
                        Posso converter GIFs animados para outros formatos?
                      </button>
                    </h2>
                    <div
                      id="conversao4"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionConversao"
                    >
                      <div class="accordion-body">
                        <p>
                          Sim, você pode converter GIFs animados para WebP
                          animado, mantendo a animação. Para fazer isso:
                        </p>
                        <ol>
                          <li>
                            Selecione um GIF animado como arquivo de entrada
                          </li>
                          <li>Escolha WebP como formato de saída</li>
                          <li>
                            Certifique-se de que a opção "Preservar animação"
                            esteja ativada
                          </li>
                          <li>
                            Ajuste a qualidade conforme necessário (maior
                            qualidade = arquivo maior)
                          </li>
                        </ol>
                        <p>
                          Nota: Se você converter um GIF animado para JPEG ou
                          PNG, apenas o primeiro quadro da animação será
                          preservado. O WebP é o único formato de saída além do
                          GIF que mantém a animação.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Seção Edição -->
              <section id="edicao" class="faq-section mt-5 d-none">
                <h2 class="border-bottom pb-2 mb-4">
                  <i class="fas fa-edit text-primary me-2"></i>
                  Edição de Imagens
                </h2>

                <div class="accordion" id="accordionEdicao">
                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#edicao1"
                      >
                        Posso editar a imagem antes de convertê-la?
                      </button>
                    </h2>
                    <div
                      id="edicao1"
                      class="accordion-collapse collapse show"
                      data-bs-parent="#accordionEdicao"
                    >
                      <div class="accordion-body">
                        <p>
                          Sim, você pode editar sua imagem antes de convertê-la
                          usando a aba "Editor" do aplicativo. Após concluir as
                          edições, você pode:
                        </p>
                        <ol>
                          <li>Salvar a imagem editada diretamente</li>
                          <li>
                            Clicar em "Exportar Para Conversor" para levar a
                            imagem editada à aba de conversão, onde você pode
                            escolher um formato de saída diferente
                          </li>
                        </ol>
                        <p>
                          Esta abordagem permite que você faça ajustes na imagem
                          e depois a converta para o formato desejado em um
                          processo contínuo.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#edicao2"
                      >
                        Quais ferramentas de edição estão disponíveis?
                      </button>
                    </h2>
                    <div
                      id="edicao2"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionEdicao"
                    >
                      <div class="accordion-body">
                        <p>
                          Nosso editor inclui várias ferramentas essenciais para
                          ajustes básicos e intermediários:
                        </p>
                        <ul>
                          <li>
                            <strong>Ajustes de imagem:</strong> Brilho,
                            contraste, saturação
                          </li>
                          <li>
                            <strong>Filtros:</strong> Normal, Escala de cinza
                            (P&B), Sépia, Vintage
                          </li>
                          <li>
                            <strong>Transformações:</strong>
                            <ul>
                              <li>Cortar (recortar partes da imagem)</li>
                              <li>Rotacionar (em incrementos de 90°)</li>
                              <li>
                                Inverter (espelhamento horizontal ou vertical)
                              </li>
                            </ul>
                          </li>
                          <li>
                            <strong>Texto:</strong> Adicionar texto
                            personalizado com várias fontes, tamanhos e cores
                          </li>
                        </ul>
                        <p>
                          As edições são aplicadas em tempo real para que você
                          veja imediatamente os resultados.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#edicao3"
                      >
                        É possível desfazer as edições?
                      </button>
                    </h2>
                    <div
                      id="edicao3"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionEdicao"
                    >
                      <div class="accordion-body">
                        <p>
                          Sim, você pode desfazer as edições de duas maneiras:
                        </p>
                        <ol>
                          <li>
                            Para edições individuais, você pode clicar no botão
                            "Desfazer" (ícone de seta para a esquerda)
                            disponível após cada ação no editor.
                          </li>
                          <li>
                            Para redefinir completamente a imagem ao estado
                            original, clique no botão "Redefinir" localizado na
                            seção de ferramentas do editor.
                          </li>
                        </ol>
                        <p>
                          Nota: Uma vez que você saia da aba do Editor ou feche
                          o aplicativo, as edições não poderão mais ser
                          desfeitas. Recomendamos salvar cópias da imagem em
                          diferentes estágios se você estiver realizando edições
                          complexas.
                        </p>
                      </div>
                    </div>
                  </div>

                  <div class="accordion-item">
                    <h2 class="accordion-header">
                      <button
                        class="accordion-button collapsed"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#edicao4"
                      >
                        Qual é a diferença entre recortar e redimensionar?
                      </button>
                    </h2>
                    <div
                      id="edicao4"
                      class="accordion-collapse collapse"
                      data-bs-parent="#accordionEdicao"
                    >
                      <div class="accordion-body">
                        <p>
                          Recortar e redimensionar são duas operações distintas
                          que afetam sua imagem de maneiras diferentes:
                        </p>
                        <div class="row">
                          <div class="col-md-6">
                            <div class="card h-100">
                              <div class="card-header">Recortar (Crop)</div>
                              <div class="card-body">
                                <ul>
                                  <li>
                                    Remove partes da imagem (corta as bordas)
                                  </li>
                                  <li>
                                    Mantém a resolução original da área
                                    selecionada
                                  </li>
                                  <li>
                                    Útil para remover elementos indesejados ou
                                    focar em uma parte específica
                                  </li>
                                  <li>Altera a composição da imagem</li>
                                </ul>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="card h-100">
                              <div class="card-header">
                                Redimensionar (Resize)
                              </div>
                              <div class="card-body">
                                <ul>
                                  <li>Altera o tamanho de toda a imagem</li>
                                  <li>
                                    Modifica a resolução (número de pixels)
                                  </li>
                                  <li>
                                    Útil para ajustar o tamanho do arquivo ou
                                    dimensões para um uso específico
                                  </li>
                                  <li>
                                    Mantém toda a composição, apenas em tamanho
                                    diferente
                                  </li>
                                </ul>
                              </div>
                            </div>
                          </div>
                        </div>
                        <p class="mt-3">
                          Você pode usar ambas as operações em conjunto:
                          primeiro recortar para focar no assunto desejado,
                          depois redimensionar para o tamanho final necessário.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Demais seções seguem o mesmo padrão... -->
              <!-- Seção Lote -->
              <section id="lote" class="faq-section mt-5 d-none">
                <!-- Conteúdo semelhante às seções anteriores -->
              </section>

              <!-- Seção Compressão -->
              <section id="compressao" class="faq-section mt-5 d-none">
                <!-- Conteúdo semelhante às seções anteriores -->
              </section>

              <!-- Seção Técnico -->
              <section id="tecnico" class="faq-section mt-5 d-none">
                <!-- Conteúdo semelhante às seções anteriores -->
              </section>
            </div>
          </div>

          <div class="text-center mt-5">
            <p class="mb-3">Não encontrou o que procurava?</p>
            <a
              href="mailto:suporte@conversorimagens.com"
              class="btn btn-primary btn-lg"
            >
              <i class="fas fa-envelope me-2"></i>Entre em contato
            </a>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer bg-dark text-white py-4">
      <div class="container">
        <div class="row">
          <div class="col-md-4 mb-4 mb-md-0">
            <h5>Sobre o Projeto</h5>
            <p class="small">
              Conversor de imagens online gratuito com recursos avançados de
              edição, compressão e conversão em lote.
            </p>
          </div>
          <div class="col-md-4 mb-4 mb-md-0">
            <h5>Links Rápidos</h5>
            <ul class="list-unstyled">
              <li>
                <a href="/" class="footer-link">Início</a>
              </li>
              <li>
                <a href="document.html" class="footer-link">Documentação</a>
              </li>
              <li>
                <a href="privacy.html" class="footer-link"
                  >Política de Privacidade</a
                >
              </li>
            </ul>
          </div>
          <div class="col-md-4">
            <h5>Redes Sociais</h5>
            <div class="social-links">
              <a
                href="https://instagram.com/luis.tei"
                target="_blank"
                aria-label="Instagram"
              >
                <i class="fab fa-instagram"></i>
              </a>
              <a
                href="https://linkedin.com/in/luis-tei"
                target="_blank"
                aria-label="LinkedIn"
              >
                <i class="fab fa-linkedin"></i>
              </a>
              <a
                href="https://github.com/LuisT-ls"
                target="_blank"
                aria-label="GitHub"
              >
                <i class="fab fa-github"></i>
              </a>
            </div>
          </div>
        </div>
        <hr class="border-light" />
        <p class="mb-0">
          &copy; <time datetime="2025">2025</time> Conversor de Imagens Pro.
          Todos os direitos reservados.
        </p>
        <p class="mb-0">
          Desenvolvido com <i class="fas fa-heart text-danger"></i> por Luis Tei
        </p>
      </div>
    </footer>

    <!-- Bootstrap JS e dependências -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <!-- Toastify JS para notificações -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <!-- JS Principal -->
    <script src="js/app.js" type="module"></script>
    <!-- Script específico para FAQ -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Gerenciar categorias de FAQ
        const categoryLinks = document.querySelectorAll('#faq-categories a')
        const faqSections = document.querySelectorAll('.faq-section')

        // Função para mostrar a categoria selecionada
        function showCategory(categoryId) {
          // Esconder todas as seções
          faqSections.forEach(section => {
            section.classList.add('d-none')
          })

          // Mostrar a seção selecionada
          const targetSection = document.getElementById(categoryId)
          if (targetSection) {
            targetSection.classList.remove('d-none')
          }

          // Atualizar classes ativas nos links
          categoryLinks.forEach(link => {
            link.classList.remove('active')
            if (link.getAttribute('href') === '#' + categoryId) {
              link.classList.add('active')
            }
          })
        }

        // Adicionar eventos aos links de categoria
        categoryLinks.forEach(link => {
          link.addEventListener('click', function (e) {
            e.preventDefault()
            const categoryId = this.getAttribute('href').substring(1) // Remove o #
            showCategory(categoryId)

            // Atualizar a URL com hash para permitir links diretos para categorias
            window.history.pushState(null, null, '#' + categoryId)
          })
        })

        // Verificar se há um hash na URL ao carregar
        if (window.location.hash) {
          const categoryId = window.location.hash.substring(1)
          showCategory(categoryId)
        }

        // Funcionalidade de busca
        const searchInput = document.getElementById('faqSearch')
        if (searchInput) {
          searchInput.addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase().trim()

            if (searchTerm.length < 2) {
              // Se a busca estiver vazia ou muito curta, mostrar apenas a categoria ativa
              categoryLinks.forEach(link => {
                if (link.classList.contains('active')) {
                  const categoryId = link.getAttribute('href').substring(1)
                  showCategory(categoryId)
                }
              })
              return
            }

            // Mostrar todas as seções para busca
            faqSections.forEach(section => {
              section.classList.remove('d-none')
            })

            // Desativar links de categoria durante busca
            categoryLinks.forEach(link => {
              link.classList.remove('active')
            })

            // Buscar nos títulos e conteúdos dos acordeões
            const accordionButtons =
              document.querySelectorAll('.accordion-button')
            let resultsFound = false

            accordionButtons.forEach(button => {
              const accordionItem = button.closest('.accordion-item')
              const accordionBody =
                accordionItem.querySelector('.accordion-body')
              const buttonText = button.textContent.toLowerCase()
              const bodyText = accordionBody.textContent.toLowerCase()

              // Verificar se o termo de busca está no título ou conteúdo
              if (
                buttonText.includes(searchTerm) ||
                bodyText.includes(searchTerm)
              ) {
                accordionItem.style.display = 'block'

                // Expandir o item se encontrado termo na busca
                const collapseElement = button.getAttribute('data-bs-target')
                const collapse = document.querySelector(collapseElement)

                if (!button.classList.contains('show')) {
                  new bootstrap.Collapse(collapse).show()
                }

                resultsFound = true
              } else {
                accordionItem.style.display = 'none'
              }
            })

            // Mostrar mensagem se nenhum resultado for encontrado
            const noResultsMessage = document.getElementById('noResultsMessage')
            if (!resultsFound) {
              if (!noResultsMessage) {
                const message = document.createElement('div')
                message.id = 'noResultsMessage'
                message.className = 'alert alert-info mt-4'
                message.innerHTML = `
                  <i class="fas fa-search me-2"></i>
                  Nenhum resultado encontrado para "<strong>${searchTerm}</strong>".
                  <button class="btn btn-sm btn-outline-primary ms-3" id="clearSearch">Limpar busca</button>
                `
                document.querySelector('.faq-search').after(message)

                document
                  .getElementById('clearSearch')
                  .addEventListener('click', function () {
                    searchInput.value = ''
                    message.remove()

                    // Restaurar visualização da categoria ativa
                    const activeLink =
                      document.querySelector('#faq-categories a.active') ||
                      document.querySelector('#faq-categories a:first-child')
                    const categoryId = activeLink
                      .getAttribute('href')
                      .substring(1)
                    showCategory(categoryId)

                    // Restaurar visualização de todos os acordeões
                    accordionButtons.forEach(button => {
                      button.closest('.accordion-item').style.display = 'block'
                    })
                  })
              }
            } else if (noResultsMessage) {
              noResultsMessage.remove()
            }
          })
        }
      })
    </script>
  </body>
</html>
